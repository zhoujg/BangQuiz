# 前端服务器重启说明

## 问题解决

✅ **编译错误已修复！**

### 问题原因
当添加新的模块文件时，Angular 的开发服务器需要重启才能识别这些新文件。

### 解决方法
重启了前端开发服务器，现在所有模块都已正确编译。

## 重要提示：端口变更

### 新的访问地址
前端应用现在运行在：
```
http://localhost:9528
```

### 为什么端口是 9528？
在 `frontend/angular.json` 配置文件中设置的端口是 9528：
```json
"serve": {
  "builder": "@angular-devkit/build-angular:dev-server",
  "options": {
    "port": 9528
  }
}
```

### 如果想改回 8100 端口
编辑 `frontend/angular.json`，将端口改为 8100：
```json
"serve": {
  "builder": "@angular-devkit/build-angular:dev-server",
  "options": {
    "port": 8100
  }
}
```
然后重启前端服务器。

## 编译成功确认

以下模块已成功编译：
- ✅ `pages-home-home-module`
- ✅ `pages-learning-path-learning-path-module`
- ✅ `pages-question-question-module`
- ✅ `pages-analysis-analysis-module`
- ✅ `pages-exam-list-exam-list-module` (新增)
- ✅ `pages-package-list-package-list-module` (新增)

## 测试功能

现在访问 **http://localhost:9528**，应该能够：

1. ✅ 点击"模拟考试"按钮
   - 弹出选择对话框
   - 选择 Level 1 或 Level 2
   - 导航到测验包列表

2. ✅ 在测验包列表中
   - 看到 TOGAF Level 1 Foundation (2个测验)
   - 看到 TOGAF Level 2 Practitioner (1个测验)
   - 点击任意测验包进入考试列表

3. ✅ 在考试列表中
   - 看到该测验包下的所有考试
   - 点击任意考试开始答题

4. ✅ 其他功能
   - 学习路径正常工作
   - 题目练习正常工作
   - 学习分析正常工作
   - 所有页面都有返回按钮

## 服务器管理

### 查看前端服务器状态
```bash
ps aux | grep "npm start"
```

### 停止前端服务器
```bash
# 使用 PID 文件
kill $(cat .frontend.pid)

# 或者手动查找并停止
pkill -f "npm start"
```

### 启动前端服务器
```bash
cd frontend
npm start
```

### 查看服务器日志
服务器启动后会显示：
```
** Angular Live Development Server is listening on localhost:9528, open your browser on http://localhost:9528/ **
✔ Compiled successfully.
```

## 后端服务器

后端服务器仍然运行在：
```
http://localhost:9527
```

前端会自动连接到后端 API。

## 完整的应用架构

```
前端 (Angular + Ionic)
http://localhost:9528
    ↓
    API 调用
    ↓
后端 (Laravel)
http://localhost:9527/api
    ↓
    数据库查询
    ↓
MySQL 数据库
localhost:3306
```

## 常见问题

### Q: 为什么需要重启服务器？
A: 当添加新文件（特别是模块文件）时，TypeScript 编译器需要重新扫描项目结构。热重载只能处理现有文件的修改，不能自动识别新文件。

### Q: 每次添加新文件都需要重启吗？
A: 通常只有添加新的模块文件或路由配置时才需要重启。修改现有文件的内容会自动热重载。

### Q: 如何避免端口冲突？
A: 如果端口被占用，可以：
1. 修改 `angular.json` 中的端口配置
2. 或者停止占用该端口的其他进程

### Q: 编译很慢怎么办？
A: 首次编译会比较慢（4-5秒），后续的增量编译会很快。如果持续很慢，可以：
1. 清除 node_modules 并重新安装
2. 清除 Angular 缓存：`rm -rf frontend/.angular`
3. 检查是否有大量未使用的依赖

## 下一步

现在所有功能都已正常工作，你可以：
1. 测试模拟考试功能
2. 为其他学习单元添加更多题目
3. 完善 ADM 地图功能
4. 添加用户认证系统
5. 优化 UI/UX
